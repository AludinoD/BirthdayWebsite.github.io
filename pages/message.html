<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Message</title>
    <link rel="stylesheet" href="../stylesheets/message.css" />
    <link rel="icon" type="image/png" href="../assets/msglogo.png" />
  </head>
  <body>
    <div id="heart-pattern"></div>

    <!-- NAVBAR -->
    <nav class="navbar">
      <div class="nav-container">
        <a href="cake.html" class="nav-logo">ðŸŽ‚ Birthday</a>
        <ul class="nav-links">
          <li><a href="cake.html">Cake</a></li>
          <li><a href="gallery.html">Gallery</a></li>
          <li><a href="message.html" class="active">Message</a></li>
        </ul>
      </div>
    </nav>

    <main class="message-section">
      <h1 class="page-header">I Love You my Baby</h1>
      <div class="polaroid-container" id="polaroidContainer">
        <div class="polaroid-front">Click me!</div>
        <div class="polaroid-back">
          <span id="polaroidText"></span>
          <button id="visitGallery">Visit Gallery</button>
        </div>
      </div>
    </main>

    <!-- Confetti library -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.3.2"></script>

    <script>
      const container = document.getElementById("polaroidContainer");
      const polaroidText = document.getElementById("polaroidText");
      const visitBtn = document.getElementById("visitGallery");

      const message = `Hello mahal!! Happy Happy 20th Birthday po :3. I'm glad I'm here to celebrate another birthday with you. I know we can't celebrate it physically, but when you come back, we definitely will. This is the 3rd Birthday we've experienced together and weâ€™ll keep celebrating more. 

I'm really happy weâ€™ve made it this far. Iâ€™m so proud of you for everything youâ€™ve overcome, and for continuing to push forward. I know your journey hasnâ€™t been easy, especially recently, where you had to adjust to so many new things. But you got stronger each problem you faced, and you gained the courage to make decisions, even when facing uncertainties. Iâ€™m really really proud of you mahal ko. I hope you know that Iâ€™ll always be behind you, or maybe beside you, supporting you through every decision and every problem you overcome. I love you so much mahal. I really really do. I know youâ€™re officially 2 years older than me now, but one thing stays the same. Youâ€™ll always be MY baby.

I hope you enjoyed blowing your cake, and I hope youâ€™ll like the â€œwebsiteâ€ I made. Even though itâ€™s not much.  Don't forget to go to the gallery or click the button under, and you can always go back by going to the nav bar. Click the message again to flip it back. 

Anyways, back to what I was saying, I'm really glad that we're growing up together, itâ€™s been over 1000 days and we're still going strong. I love you so so much my baby, I really really do. I wish you all the best, and I hope that you enjoy your special day. We may not be celebrating it together right now, but soon weâ€™ll be celebrating our special days together. Once again, Happy Happy Birthday Mahal ko! Ikaw lang gusto ko habang buhay. Youâ€™re all I ever wanted. Iâ€™ll always be here for you no matter what my love. I love you my Samantha Mackenzie Jacobe Fordan-Aludino!MWAH MWAH MWAH
\n - Your One and Only, Deniz
`;
      let flipped = false;
      let typed = false;

      container.addEventListener("click", () => {
        if (!flipped) {
          container.classList.add("flipped");
          flipped = true;
          container.classList.remove("tilt");

          confetti({
            particleCount: 150,
            spread: 70,
            origin: { y: 0.6 },
          });

          let i = 0;
          polaroidText.textContent = "";
          const typeInterval = setInterval(() => {
            polaroidText.textContent += message[i];
            i++;
            if (i >= message.length) {
              clearInterval(typeInterval);
              typed = true;
            }
          }, 50);
        } else if (flipped && typed) {
          container.classList.remove("flipped");
          flipped = false;
          typed = false;
          polaroidText.textContent = "";
        }
      });

      visitBtn.addEventListener("click", (e) => {
        e.stopPropagation();
        window.location.href = "gallery.html";
      });
    </script>
  </body>
</html>
